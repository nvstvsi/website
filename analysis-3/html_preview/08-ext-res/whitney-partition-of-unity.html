<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>whitney-partition-of-unity</title>
  <script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true,
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '0.8em',
      packages: {'[+]': ['ams']},
      macros: {
        R: '\\mathbb{R}',
        C: '\\mathbb{C}',
        N: '\\mathbb{N}',
        Z: '\\mathbb{Z}',
        Q: '\\mathbb{Q}',
        E: '\\mathbb{E}',
        F: '\\mathbb{F}',
        S: '\\mathbb{S}',
        H: '\\mathcal{H}',
        L: '\\mathcal{L}',
        dif: '\\,\\mathrm{d}',
        supp: '\\operatorname{supp}',
        proj: '\\operatorname{proj}',
        Id: '\\operatorname{Id}',
        Span: '\\operatorname{span}',
        graph: '\\operatorname{graph}',
        dist: '\\operatorname{dist}',
        diam: '\\operatorname{diam}',
        avg: '\\operatorname{avg}',
        div: '\\operatorname{div}',
        vol: '\\operatorname{vol}',
        ord: '\\operatorname{ord}',
        Chi: '\\mathbf{1}',
        sub: '\\subseteq',
        mres: '\\downharpoonright',
        ddag: '\\ddagger',
        dag: '\\dagger',
        norm: ['\\left\\| #1 \\right\\|', 1],
        abs: ['\\left| #1 \\right|', 1],
        set: ['\\left\\{ #1 \\right\\}', 1],
        inner: ['\\langle #1, #2 \\rangle', 2],
        floor: ['\\lfloor #1 \\rfloor', 1],
        ceil: ['\\lceil #1 \\rceil', 1],
        llbracket: '\\unicode{x27E6}',
        rrbracket: '\\unicode{x27E7}',
        bigskull: '\\unicode{x1F480}',
        skull: '\\unicode{x2620}',
        mathwitch: '\\unicode{x1F9D9}',
        pumpkin: '\\unicode{x1F383}',
        mathpumpkin: '\\unicode{x1F383}',
        bigpumpkin: '\\unicode{x1F383}',
        mathghost: '\\unicode{x1F47B}',
        mathcat: '\\unicode{x1F408}',
        mathbat: '\\unicode{x1F987}',
        esssup: '\\operatorname{ess\\,sup}',
        essinf: '\\operatorname{ess\\,inf}',
        Lip: '\\operatorname{Lip}',
        pd: ['\\frac{\\partial#1}{\\partial#2}', 2],
        od: ['\\frac{\\mathrm{d}#1}{\\mathrm{d}#2}', 2],
        dashint: '\\mathchoice{\\rlap{-}\\!\\int}{\\rlap{\\raise.15ex\\hbox{\\smash{\\scriptscriptstyle-}}}\\int}{\\rlap{\\raise.09ex\\hbox{\\smash{\\scriptscriptstyle-}}}\\int}{\\rlap{\\raise.09ex\\hbox{\\smash{\\scriptscriptstyle-}}}\\int}',
        eurologo: '\\unicode{x20AC}',
        starredbullet: '\\unicode{x2726}',
        grimace: '\\unicode{x1F62C}',
        textthing: '\\unicode{x2639}',
        noway: '\\unicode{x26D4}',
        warning: '\\unicode{x26A0}',
        danger: '\\unicode{x26A0}',
        textxswup: '\\unicode{x2195}',
        textxswdown: '\\unicode{x2195}',
        decoone: '\\unicode{x2756}',
        decotwo: '\\unicode{x2767}',
        decothreeleft: '\\unicode{x2619}',
        decothreeright: '\\unicode{x2767}',
        decofourleft: '\\unicode{x261A}',
        decofourright: '\\unicode{x261B}',
        floweroneleft: '\\unicode{x2740}',
        floweroneright: '\\unicode{x2740}',
        lefthand: '\\unicode{x261C}',
        righthand: '\\unicode{x261E}',
        decosix: '\\unicode{x2766}',
        bomb: '\\unicode{x1F4A3}',
        caution: '\\unicode{x2621}',
        leftblackhand: '\\unicode{x261A}',
        rightblackhand: '\\unicode{x261B}',
        leafleft: '\\unicode{x2618}',
        leafright: '\\unicode{x2618}',
        leafNW: '\\unicode{x2618}',
        leafNE: '\\unicode{x2618}',
        leafSE: '\\unicode{x2618}',
        leafSW: '\\unicode{x2618}',
        aldineleft: '\\unicode{x2619}',
        aldineright: '\\unicode{x2767}',
        aldine: '\\unicode{x2766}',
        aldinesmall: '\\unicode{x2767}',
        aldinesmallrevert: '\\unicode{x2619}',
        aldinesmallup: '\\unicode{x2766}',
        grappe: '\\unicode{x2766}',
        rightgrappe: '\\unicode{x2767}',
        leftgrappe: '\\unicode{x2619}',
        oldpilcrowone: '\\unicode{x00B6}',
        oldpilcrowtwo: '\\unicode{x00B6}',
        oldpilcrowthree: '\\unicode{x00B6}',
        oldpilcrowfour: '\\unicode{x00B6}',
        oldpilcrowfive: '\\unicode{x00B6}',
        oldpilcrowsix: '\\unicode{x00B6}'
      }
    },
    startup: {
      pageReady: () => {
        return MathJax.startup.defaultPageReady().then(() => {
          console.log('MathJax ready');
        });
      }
    }
  };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>
  <script>
  (function() {
    window.addEventListener('beforeunload', function() {
      saveProofState();
      saveCollapsibleState();
    });
    
    const eventSource = new EventSource('http://localhost:35729/reload-stream');
    
    eventSource.onmessage = function(event) {
      if (event.data === 'reload') {
        console.log('üìù File updated, saving state and reloading...');
        saveProofState();
        saveCollapsibleState();
        setTimeout(() => {
          window.location.reload();
        }, 50);
      }
    };
    
    eventSource.onerror = function() {
      console.log('‚ö†Ô∏è  Auto-reload server not available. Run node watch.js to enable auto-reload.');
      eventSource.close();
    };
    
    console.log('üîÑ Auto-reload enabled');
  })();
  </script>
  <style>
    * { box-sizing: border-box; }
    
    body {
      font-family: Georgia, "Times New Roman", serif;
      font-size: 16px;
      line-height: 1.7;
      margin: 0;
      padding: 0;
      color: #1a1a1a;
      background: #ffffff;
    }
    
    /* Layout with sidebar */
    .page-layout {
      display: flex;
      min-height: 100vh;
    }
    
    /* Sidebar styles */
    .sidebar {
      width: 280px;
      background: #fff;
      border-right: 1px solid #e0e0e0;
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      overflow-y: auto;
      padding: 20px 0;
      font-size: 14px;
    }
    
    .sidebar-header {
      padding: 15px 20px 25px;
      border-bottom: 1px solid #e0e0e0;
    }
    
    .sidebar-header h1 {
      font-size: 1.3em;
      font-weight: 600;
      color: #1a1a1a;
      margin: 0 0 5px 0;
    }
    
    .sidebar-header .subtitle {
      font-size: 0.85em;
      color: #666;
      font-style: italic;
    }
    
    .sidebar-header .back-link {
      display: block;
      font-size: 0.8em;
      color: #666;
      text-decoration: none;
      margin-top: 12px;
    }
    
    .sidebar-header .back-link:hover {
      color: #1a1a1a;
    }
    
    .sidebar-nav {
      padding: 10px 0;
    }
    
    .chapter-group {
      margin-bottom: 2px;
    }
    
    .chapter-title {
      padding: 12px 20px;
      font-size: 0.9em;
      font-weight: 600;
      color: #333;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .chapter-title:hover {
      background: #f5f5f5;
    }
    
    .chapter-title .toggle {
      font-size: 0.65em;
      color: #999;
      transition: transform 0.2s;
    }
    
    .chapter-group.expanded .chapter-title .toggle {
      transform: rotate(90deg);
    }
    
    .section-list {
      display: none;
      padding: 5px 0;
      background: #f8f8f8;
    }
    
    .chapter-group.expanded .section-list {
      display: block;
    }
    
    .section-link {
      display: block;
      padding: 8px 20px 8px 35px;
      font-size: 0.85em;
      color: #555;
      text-decoration: none;
      border-left: 3px solid transparent;
    }
    
    .section-link:hover {
      background: #f0f0f0;
      color: #1a1a1a;
    }
    
    .section-link.active {
      background: #e8e8e8;
      border-left-color: #333;
      color: #000;
      font-weight: 500;
    }
    
    /* Main content area */
    .main-content {
      margin-left: 280px;
      flex: 1;
      max-width: 900px;
      padding: 40px 60px;
    }
    
    @media (max-width: 1100px) {
      .sidebar {
        width: 240px;
      }
      .main-content {
        margin-left: 240px;
        padding: 30px 40px;
      }
    }
    
    @media (max-width: 800px) {
      .sidebar {
        position: relative;
        width: 100%;
        height: auto;
        border-right: none;
        border-bottom: 1px solid #e0e0e0;
      }
      .main-content {
        margin-left: 0;
        padding: 20px;
      }
      .page-layout {
        flex-direction: column;
      }
    }
    
    h2, h3, h4 {
      margin-top: 2em;
      margin-bottom: 0.75em;
      color: #000;
      font-weight: 600;
    }
    h2 { font-size: 1.5em; border-bottom: 1px solid #e0e0e0; padding-bottom: 0.3em; }
    h3 { font-size: 1.25em; }
    h4 { font-size: 1.1em; }
    p {
      margin: 1em 0;
      text-indent: 2em;
    }
    p:first-of-type,
    h2 + p,
    h3 + p,
    h4 + p,
    .theorem-box + p,
    .proof-box + p {
      text-indent: 0;
    }
    .noindent + p,
    p:has(> .noindent:first-child) {
      text-indent: 0 !important;
    }
    .noindent {
      display: none;
    }
    .theorem-box {
      margin: 1.75em 0;
      padding: 1.25em;
      border-left: 5px solid #16a34a;
      background: linear-gradient(to top, #bbf7d0 0%, #d1fae5 100%);
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }
    .definition-box { border-left-color: #16a34a; background: linear-gradient(to top, #d1fae5 0%, #ecfdf5 100%); }
    .lemma-box { border-left-color: #1e3a8a; background: linear-gradient(to top, #bfdbfe 0%, #dbeafe 100%); }
    .corollary-box { border-left-color: #9333ea; background: linear-gradient(to top, #e9d5ff 0%, #f3e8ff 100%); }
    .proposition-box { border-left-color: #dc2626; background: linear-gradient(to top, #fecaca 0%, #fee2e2 100%); }
    .remark-box { border-left-color: #64748b; background: linear-gradient(to top, #e2e8f0 0%, #f1f5f9 100%); }
    .example-box { border-left-color: #0891b2; background: linear-gradient(to top, #a5f3fc 0%, #cffafe 100%); }
    .construction-box { border-left-color: #ea580c; background: linear-gradient(to top, #fed7aa 0%, #ffedd5 100%); }
    .notation-box { border-left-color: #ca8a04; background: linear-gradient(to top, #fef08a 0%, #fef9c3 100%); }
    .exercise-box { border-left-color: #ea580c; background: linear-gradient(to top, #fed7aa 0%, #ffedd5 100%); }
    .problem-box { border-left-color: #ec4899; background: linear-gradient(to top, #fbcfe8 0%, #fce7f3 100%); }
    .theorem-header {
      margin-bottom: 0.75em;
      font-size: 1.05em;
      font-weight: 600;
    }
    .theorem-header.clickable {
      cursor: pointer;
      user-select: none;
    }
    .theorem-header.clickable:hover {
      background: rgba(0,0,0,0.03);
      margin: -0.5em -0.75em 0.75em -0.75em;
      padding: 0.5em 0.75em;
      border-radius: 4px;
    }
    .collapsible-icon {
      display: inline-block;
      transition: transform 0.2s ease;
      font-size: 0.75em;
      margin-right: 0.5em;
      color: #6b7280;
    }
    .collapsible-box.collapsed .collapsible-icon {
      transform: rotate(-90deg);
    }
    .collapsible-content {
      transition: max-height 0.3s ease;
      overflow: hidden;
    }
    .collapsible-box.collapsed .collapsible-content {
      display: none;
    }
    .theorem-content {
      padding-left: 0.5em;
      line-height: 1.8;
    }
    .proof-box {
      margin: 1.5em 0;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      background: white;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    .proof-header {
      position: sticky;
      top: 0;
      background: linear-gradient(to bottom, #fafafa 0%, #f5f5f5 100%);
      border-bottom: 1px solid #e5e7eb;
      z-index: 100;
      border-radius: 6px 6px 0 0;
    }
    .proof-toggle {
      width: 100%;
      padding: 0.85em 1.25em;
      border: none;
      background: transparent;
      text-align: left;
      cursor: pointer;
      font-family: inherit;
      font-size: 1em;
      display: flex;
      align-items: center;
      gap: 0.75em;
      transition: background 0.15s;
    }
    .proof-toggle:hover { background: rgba(0,0,0,0.03); }
    .proof-toggle-icon {
      display: inline-block;
      transition: transform 0.2s ease;
      font-size: 0.75em;
      color: #6b7280;
    }
    .proof-box.collapsed .proof-toggle-icon {
      transform: rotate(-90deg);
    }
    .proof-content {
      padding: 1.25em;
      line-height: 1.8;
    }
    .proof-box.collapsed .proof-content {
      display: none;
    }
    .proof-end {
      float: right;
      font-size: 1.3em;
      margin-left: 0.5em;
      color: #374151;
    }
    .subproof {
      margin: 1em 0;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      background: #f9fafb;
    }
    .subproof-header {
      background: linear-gradient(to bottom, #f9fafb 0%, #f3f4f6 100%);
      border-bottom: 1px solid #d1d5db;
      border-radius: 4px 4px 0 0;
    }
    .subproof-toggle {
      width: 100%;
      padding: 0.6em 1em;
      border: none;
      background: transparent;
      text-align: left;
      cursor: pointer;
      font-family: inherit;
      font-size: 0.95em;
      display: flex;
      align-items: center;
      gap: 0.5em;
      transition: background 0.15s;
    }
    .subproof-toggle:hover {
      background: rgba(0,0,0,0.03);
    }
    .subproof-toggle-icon {
      display: inline-block;
      transition: transform 0.2s ease;
      font-size: 0.7em;
      color: #6b7280;
    }
    .subproof.collapsed .subproof-toggle-icon {
      transform: rotate(-90deg);
    }
    .subproof-content {
      padding: 1em;
      line-height: 1.7;
    }
    .subproof.collapsed .subproof-content {
      display: none;
    }
    .ref-link {
      color: #2563eb;
      text-decoration: none;
      font-weight: 500;
      padding: 0 0.15em;
      border-radius: 2px;
    }
    .ref-link:hover {
      background: #dbeafe;
      text-decoration: underline;
    }
    .ref-unknown {
      color: #dc2626;
      font-weight: bold;
      background: #fee2e2;
      padding: 0.1em 0.3em;
      border-radius: 3px;
    }
    strong { font-weight: 600; }
    em { font-style: italic; }
    ol, ul {
      margin: 1em 0;
      padding-left: 2.5em;
      line-height: 1.8;
    }
    li {
      margin: 0.5em 0;
    }
    .latex-image {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 1.5em auto;
    }
    .latex-figure .latex-image {
      display: inline-block;
      margin: 0.5em;
      vertical-align: middle;
    }
    .latex-figure {
      margin: 2em 0;
      text-align: center;
      line-height: 0;
    }
    .latex-figure .figure-content {
      margin-bottom: 0.75em;
      line-height: normal;
    }
    .latex-figure .figure-content > * {
      vertical-align: middle;
    }
    .latex-figure figcaption {
      font-size: 0.9em;
      color: #4b5563;
      font-style: italic;
      margin-top: 0.5em;
    }
  </style>
</head>
<body>
  <div class="page-layout">
    <nav class="sidebar">
      <div class="sidebar-header">
        <h1>Analysis III</h1>
        <div class="subtitle">Measure Theory &amp; Integration</div>
        <a href="../index.html" class="back-link">‚Üê Table of Contents</a>
      </div>
      <div class="sidebar-nav">
        <div class="chapter-group expanded">
          <div class="chapter-title" onclick="toggleChapter(this)"><span>1. Measure Theory</span><span class="toggle">‚ñ∂</span></div>
          <div class="section-list">
            <a href="../01-measure-theory/measure-theory.html" class="section-link">Overview</a>
            <a href="../01-measure-theory/basics.html" class="section-link">Outer Measures</a>
            <a href="../01-measure-theory/lebesgue-meas.html" class="section-link">Lebesgue Measure</a>
            <a href="../01-measure-theory/cantor.html" class="section-link">The Cantor Set</a>
            <a href="../01-measure-theory/measure-spaces.html" class="section-link">Measure Spaces</a>
          </div>
        </div>
        <div class="chapter-group">
          <div class="chapter-title" onclick="toggleChapter(this)"><span>2. Integration</span><span class="toggle">‚ñ∂</span></div>
          <div class="section-list">
            <a href="../02-integration/integration.html" class="section-link">Overview</a>
            <a href="../02-integration/integrals-1.html" class="section-link">Simple Functions</a>
            <a href="../02-integration/integrals-2.html" class="section-link">General Functions</a>
            <a href="../02-integration/convergence.html" class="section-link">Convergence Theorems</a>
            <a href="../02-integration/inequality-party.html" class="section-link">Integral Inequalities</a>
            <a href="../02-integration/lp_spaces.html" class="section-link">L·µñ Spaces</a>
          </div>
        </div>
        <div class="chapter-group">
          <div class="chapter-title" onclick="toggleChapter(this)"><span>3. Product Measures</span><span class="toggle">‚ñ∂</span></div>
          <div class="section-list">
            <a href="../03-fubini/fubini_ch.html" class="section-link">Overview</a>
            <a href="../03-fubini/fubini.html" class="section-link">Fubini-Tonelli</a>
            <a href="../03-fubini/integrals-3.html" class="section-link">Product Measures</a>
          </div>
        </div>
        <div class="chapter-group">
          <div class="chapter-title" onclick="toggleChapter(this)"><span>4. Differentiation I</span><span class="toggle">‚ñ∂</span></div>
          <div class="section-list">
            <a href="../04-differentiation-1/differentiation.html" class="section-link">Overview</a>
            <a href="../04-differentiation-1/covering.html" class="section-link">Vitali Covering</a>
            <a href="../04-differentiation-1/monotone.html" class="section-link">Monotone Functions</a>
            <a href="../04-differentiation-1/BV_on_R.html" class="section-link">Bounded Variation</a>
            <a href="../04-differentiation-1/FTOC.html" class="section-link">FTC for Lebesgue</a>
            <a href="../04-differentiation-1/HL.html" class="section-link">Hardy-Littlewood</a>
          </div>
        </div>
        <div class="chapter-group">
          <div class="chapter-title" onclick="toggleChapter(this)"><span>5. Differentiation I (cont)</span><span class="toggle">‚ñ∂</span></div>
          <div class="section-list">
            <a href="../05-differentiation-1/differentiation.html" class="section-link">Overview</a>
            <a href="../05-differentiation-1/r-nik.html" class="section-link">Radon-Nikodym</a>
          </div>
        </div>
        <div class="chapter-group">
          <div class="chapter-title" onclick="toggleChapter(this)"><span>6. Differentiation II</span><span class="toggle">‚ñ∂</span></div>
          <div class="section-list">
            <a href="../06-differentiation-2/diff-2.html" class="section-link">Overview</a>
            <a href="../06-differentiation-2/vector-measures.html" class="section-link">Vector Measures</a>
            <a href="../06-differentiation-2/r-nik.html" class="section-link">Radon-Nikodym</a>
            <a href="../06-differentiation-2/besi.html" class="section-link">Besicovitch</a>
            <a href="../06-differentiation-2/densities.html" class="section-link">Densities</a>
            <a href="../06-differentiation-2/diff-measures.html" class="section-link">Measure Derivatives</a>
          </div>
        </div>
        <div class="chapter-group">
          <div class="chapter-title" onclick="toggleChapter(this)"><span>7. Riesz Representation</span><span class="toggle">‚ñ∂</span></div>
          <div class="section-list">
            <a href="../06-riesz/riesz.html" class="section-link">Overview</a>
            <a href="../06-riesz/riesz_functional.html" class="section-link">Riesz Representation</a>
            <a href="../06-riesz/LCH_spaces.html" class="section-link">LCH Spaces</a>
          </div>
        </div>
        <div class="chapter-group">
          <div class="chapter-title" onclick="toggleChapter(this)"><span>8. Integral Formulas</span><span class="toggle">‚ñ∂</span></div>
          <div class="section-list">
            <a href="../07-formulas/formulas.html" class="section-link">Overview</a>
            <a href="../07-formulas/hausdorff_meas.html" class="section-link">Hausdorff Measures</a>
            <a href="../07-formulas/lippy.html" class="section-link">Lipschitz Maps</a>
            <a href="../07-formulas/rademacher.html" class="section-link">Rademacher</a>
            <a href="../07-formulas/coarea-prereq.html" class="section-link">Coarea Prerequisites</a>
            <a href="../07-formulas/coarea.html" class="section-link">Coarea Formula</a>
            <a href="../07-formulas/area-prereq.html" class="section-link">Area Prerequisites</a>
            <a href="../07-formulas/area-formula.html" class="section-link">Area Formula</a>
          </div>
        </div>
        <div class="chapter-group">
          <div class="chapter-title" onclick="toggleChapter(this)"><span>9. Extension Results</span><span class="toggle">‚ñ∂</span></div>
          <div class="section-list">
            <a href="../08-ext-res/ext-res.html" class="section-link">Overview</a>
            <a href="../08-ext-res/taylor_thm_integral_remainder.html" class="section-link">Taylor's Theorem</a>
            <a href="../08-ext-res/whitney-cover.html" class="section-link">Whitney Covering</a>
            <a href="../08-ext-res/whitney-partition-of-unity.html" class="section-link">Partition of Unity</a>
            <a href="../08-ext-res/whitney-decomposition.html" class="section-link">Decomposition</a>
            <a href="../08-ext-res/whitney-extension-theorem.html" class="section-link">Extension Theorem</a>
            <a href="../08-ext-res/whitney-extension-proof.html" class="section-link">Extension Proof</a>
            <a href="../08-ext-res/whitney-extension-applications.html" class="section-link">Applications</a>
            <a href="../08-ext-res/whitney-extension.html" class="section-link">Summary</a>
            <a href="../08-ext-res/more-bump.html" class="section-link">More Bump Functions</a>
          </div>
        </div>
      </div>
    </nav>
    
    <main class="main-content">
      <h3>Some Lemmas on Higher Order Derivatives and Bump Functions</h3>
<div class="theorem-box exercise-box" id="ex:higher_order_quotient_rule">
  <div class="theorem-header"><strong>Exercise ?</strong> (Higher Order Quotient Rule)</div>
  <div class="theorem-content">Let $\Omega \subseteq \R^n$ be an open set, and let $f: \Omega \to \R$ be a $C^m$ function which is nonzero on $\Omega$.
        Then for each multi-index $\beta \in\N^n$ with $0<|\beta| \leq m$, we have
        \[ D^\beta\left( \frac{1}{f} \right) = -\frac{1}{f} \sum_{0< \gamma \leq \beta} \binom{\beta}{\gamma} D^\gamma f \cdot D^{\beta-\gamma} \left( \frac{1}{f} \right). \]</div>
</div>
<div class="proof-box collapsed" data-proof-id="proof-num-0">
  <div class="proof-header">
    <button class="proof-toggle" onclick="toggleProof('proof-num-0')" aria-expanded="false">
      <span class="proof-toggle-icon">‚ñº</span>
      <strong>Proof</strong>
    </button>
  </div>
  <div class="proof-content" id="proof-num-0">
    Let $\beta \in \N^n$ be a multi-index with $0<|\beta| \leq m$.
    Since $f$ is nonzero on $\Omega$, we can write
    \[ f(x)\frac{1}{f(x)} = 1 \qquad \forall x\in \Omega \]
    so differentiating both sides gives
    \[ D^\beta\left( f\cdot \frac{1}{f} \right) = D^\beta(1) = 0. \]
    Hence the Leibniz rule says that
    \[ \sum_{\gamma \leq \beta} \binom{\beta}{\gamma} D^\gamma f \cdot D^{\beta-\gamma} \left( \frac{1}{f} \right) = 0 \]
    which implies that
    \[ f\cdot D^\beta \left( \frac{1}{f}\right) + \sum_{0 <\gamma \leq \beta} \binom{\beta}{\gamma} D^\gamma f \cdot D^{\beta-\gamma} \left( \frac{1}{f} \right) = 0. \]
    Rearranging this gives
    \[ D^\beta\left( \frac{1}{f} \right) = - \frac{1}{f} \sum_{0 <\gamma \leq \beta} \binom{\beta}{\gamma} D^\gamma f \cdot D^{\beta-\gamma} \left( \frac{1}{f} \right) \]
    as desired.
    <span class="proof-end">‚ñ°</span>
  </div>
</div>
<div class="theorem-box definition-box" id="def:bump_function_adapted_to_interval_or_cube">
  <div class="theorem-header"><strong>Definition ?</strong> (Bump Function Adapted to an Interval or Cube)</div>
  <div class="theorem-content">Fix $0 < \varepsilon < \frac{1}{4}$.
    Let $\eta \in C^\infty_c(\R)$ be a non-negative even function such that 
    \[ \eta(t) = \begin{cases}
        0 & \text{if } |t| \geq \frac{1}{2} + \frac{\varepsilon}{2} \\
        1 & \text{if } |t| \leq \frac{1}{2} \\
    \end{cases} \]
    and $\eta$ is strictly decreasing on $(-\frac{1}{2} - \frac{\varepsilon}{2}, -\frac{1}{2})$ and $(\frac{1}{2}, \frac{1}{2} + \frac{\varepsilon}{2})$.
<p>For each dyadic interval $I \subset \R$, we define the function $\eta_I:\R\to \R$ by
    \[ \eta_I(t) := \eta\left( \frac{t - c_I}{\ell(I)} \right), \]
    where $c_I$ is the center of the interval $I$ and $\ell(I)$ is the length of the interval $I$.</p>
<p>For each dyadic cube $Q \subset \R^n$, write $Q = I_1 \times \cdots \times I_n$ where $I_1, \ldots, I_n$ are dyadic intervals, and define the function $\eta_Q :\R^n\to \R$ by
    \[ \eta_Q(x) := \eta_{I_1}(x_1) \cdots \eta_{I_n}(x_n). \]</div>
</div></p>
<div class="theorem-box exercise-box" id="ex:bump_sanity_check">
  <div class="theorem-header"><strong>Exercise ?</strong> (Basic Facts)</div>
  <div class="theorem-content">Fix $0 < \varepsilon < \frac{1}{4}$ and et $\eta$ be a bump function as in Definition <span class="ref-unknown" title="Reference not found: def:bump_function_adapted_to_interval_or_cube">[def:bump_function_adapted_to_interval_or_cube?]</span>.
    Then for each dyadic interval $I \subset \R$ we let $I^* := (1+\varepsilon)I$ to be the interval with the same center as $I$ but with length $(1+\varepsilon)\ell(I)$, and for each dyadic cube $Q = I_1 \times \cdots \times I_n$ in $\R^n$ we let $Q^* := I_1^* \times \cdots \times I_n^*$.
<p>Then for each dyadic interval $I \subset \R$, we have $\eta_I \in C^\infty_c(\R)$ and
    \[ \eta_I(t) = \begin{cases}
        0 & \text{if } t \notin I^* \\
        1 & \text{if } t \in I \\
    \end{cases} \]
    so that $\supp \eta_I \subseteq I^*$ and $\eta_I|_I = 1$.</p>
<p>Similarly for each dyadic cube $Q = I_1 \times \cdots \times I_n$ in $\R^n$ we have $\eta_Q \in C^\infty_c(\R^n)$ and
    \[ \eta_Q(x) = \begin{cases}
        0 & \text{if } x \notin Q^* := I_1^* \times \cdots \times I_n^* \\
        1 & \text{if } x \in Q \\
    \end{cases} \]
    so that $\supp \eta_Q \subseteq Q^*$ and $\eta_Q|_Q = 1$.</div>
</div></p>
<div class="proof-box collapsed" data-proof-id="proof-num-1">
  <div class="proof-header">
    <button class="proof-toggle" onclick="toggleProof('proof-num-1')" aria-expanded="false">
      <span class="proof-toggle-icon">‚ñº</span>
      <strong>Proof</strong>
    </button>
  </div>
  <div class="proof-content" id="proof-num-1">
    Let $I \subset \R$ be a dyadic interval.
    The definition of $\eta_I$ shows that $\eta_I \in C^\infty_c(\R)$, and that $\eta_I(t) = 0$ if $|t - c_I| \geq \frac{1}{2} + \frac{\varepsilon}{2}$, which is equivalent to $t \notin I^*$.
    Similarly, $\eta_I(t) = 1$ if $|t - c_I| \leq \frac{1}{2}$, which is equivalent to $t \in I$.
<p>This shows that $\supp \eta_I \subseteq I^*$ and $\eta_I|_I = 1$.</p>
<p><div style="margin: 1em 0;"></div></p>
<p>Let $Q = I_1 \times \cdots \times I_n$ be a dyadic cube in $\R^n$.
    The definition of $\eta_Q$ shows that $\eta_Q \in C^\infty_c(\R^n)$, and that $\eta_Q(x) = 0$ if $|x_j - c_{I_j}| \geq \frac{1}{2} + \frac{\varepsilon}{2}$ for some $1 \leq j \leq n$, which is equivalent to $x \notin Q^*$.
    Similarly, $\eta_Q(x) = 1$ if $|x_j - c_{I_j}| \leq \frac{1}{2}$ for each $1 \leq j \leq n$, which is equivalent to $x \in Q$.</p>
<p>This shows that $\supp \eta_Q \subseteq Q^*$ and $\eta_Q|_Q = 1$.
    <span class="proof-end">‚ñ°</span>
  </div>
</div></p>
<div class="theorem-box lemma-box" id="lem:derivative_bounds_1">
  <div class="theorem-header"><strong>Lemma ?</strong> (Derivative Bounds)</div>
  <div class="theorem-content">Fix $0<\varepsilon<\frac{1}{4}$, and let $\eta\in C_c^\infty(\R)$ be an even non-negative bump function as in Definition <span class="ref-unknown" title="Reference not found: def:bump_function_adapted_to_interval_or_cube">[def:bump_function_adapted_to_interval_or_cube?]</span>. 
    <ol><li>For each dyadic interval $I \subset \R$, and each $m \in\Z^+$, there is a constant $C_{m,\eta} > 0$ which depends only on $m$ and $\eta$ such that 
            \[ \left| \eta_I^{(m)}(t) \right| \leq C_{m,\eta} \ell(I)^{-m} \]
            for all $t \in \R$.
        </li><li>For each dyadic cube $Q \subset \R^n$, and each multi-index $\alpha \in \N^n$, there is a constant $C_{n,\alpha,\eta} > 0$ which depends only on $n, \alpha$ and $\eta$ such that
            \[ |\partial^\alpha \eta_Q(x)| \leq C_{n,\alpha,\eta} (\diam Q)^{-|\alpha|} \]
            for all $x \in \R^n$.</li></ol></div>
</div>
<div class="proof-box collapsed" data-proof-id="proof-num-2">
  <div class="proof-header">
    <button class="proof-toggle" onclick="toggleProof('proof-num-2')" aria-expanded="false">
      <span class="proof-toggle-icon">‚ñº</span>
      <strong>Proof</strong>
    </button>
  </div>
  <div class="proof-content" id="proof-num-2">
    <ol><li>See that for each dyadic interval $I$, and each $m \in\Z^+$, we have the $m$-th derivative of $\eta_I$ given by
            \[  \eta_I^{(m)}(t) = \frac{1}{\ell(I)^m} \eta^{(m)}\left( \frac{t - c_I}{\ell(I)} \right) \]
            by iterating the chain rule, which implies that
            \[ \left| \eta_I^{(m)}(t) \right| \leq \|\eta^{(m)}\|_{L^\infty(\R)} \ell(I)^{-m} \tag{$\star$} \]
            for all $t \in \R$.
<p></li><li>Let $Q = I_1 \times \cdots \times I_n$ be a dyadic cube in $\R^n$, where $I_1, \ldots, I_n$ are dyadic intervals. 
            Note that for each multi-index $\alpha = (\alpha_1, \ldots, \alpha_n) \in \N^n$, we have
            \[ \partial^\alpha \eta_Q(x) = \partial^\alpha(  \eta_{I_1}(x_1) \cdots \eta_{I_n}(x_n) ) = \eta_{I_1}^{(\alpha_1)}(x_1) \cdots \eta_{I_n}^{(\alpha_n)}(x_n) \]
            and so by $(\star)$ we have
            \[ |\partial^\alpha \eta_Q(x)| \leq \|\eta^{(\alpha_1)}\|_{L^\infty(\R)} \cdots \|\eta^{(\alpha_n)}\|_{L^\infty(\R)} \ell(I_1)^{-\alpha_1} \cdots \ell(I_n)^{-\alpha_n} \]  
            for all $x \in \R^n$.
            By defining 
            \[ C_{n,\alpha,\eta} := \|\eta^{(\alpha_1)}\|_{L^\infty(\R)} \cdots \|\eta^{(\alpha_n)}\|_{L^\infty(\R)} n^{\frac{|\alpha|}{2}} \]
            and noting that $\ell(I_1) = \cdots = \ell(I_n) = \frac{\diam Q}{\sqrt{n}}$, we have
            \[ |\partial^\alpha \eta_Q(x)| \leq C_{n,\alpha,\eta} (\diam Q)^{-|\alpha|} \]
            for all $x \in \R^n$ as desired.</li></ol>
    <span class="proof-end">‚ñ°</span>
  </div>
</div></p>
<div class="theorem-box lemma-box" id="lem:dyadic_bump_integral_estimate">
  <div class="theorem-header"><strong>Lemma ?</strong> (Integral Bounds)</div>
  <div class="theorem-content">Fix $0<\varepsilon<\frac{1}{4}$ and let $\eta$ be a bump function as in Definition <span class="ref-unknown" title="Reference not found: def:bump_function_adapted_to_interval_or_cube">[def:bump_function_adapted_to_interval_or_cube?]</span>.
    <ol><li>There is a constant $B_{\eta} > 0$ such that if $I,J \subset \R$ are dyadic intervals such that $\ell(I) \leq 4 \ell(J)$ and $\eta_I \eta_J$ is not identically zero, then
            \[ \frac{1}{\ell(I)} \int_{\R} \eta_I(y) \eta_J(y) \,\dif y \geq B_{\eta}. \]
        </li><li>There is a constant $B_{n,\eta} > 0$ such that if $Q,R \subset \R^n$ are dyadic cubes such that $\ell(Q) \leq 4 \ell(R)$ and $\eta_Q \eta_R$ is not identically zero, then
            \[ \frac{1}{\vol(Q)} \int_{\R^n} \eta_Q(y) \eta_R(y) \,\dif y \geq B_{n,\eta}. \]</li></ol></div>
</div>
<div class="proof-box collapsed" data-proof-id="proof-num-3">
  <div class="proof-header">
    <button class="proof-toggle" onclick="toggleProof('proof-num-3')" aria-expanded="false">
      <span class="proof-toggle-icon">‚ñº</span>
      <strong>Proof</strong>
    </button>
  </div>
  <div class="proof-content" id="proof-num-3">
    <ol><li>By assumption that $\eta_I \eta_J$ is not identically zero, we must have $J^* \cap I^* \neq \varnothing$, and hence $J \cap I$ is nonempty by the proof of Corollary <span class="ref-unknown" title="Reference not found: cor:whitney_cover_dilation">[cor:whitney_cover_dilation?]</span>.
        Since $I$ and $J$ are dyadic intervals, they must be adjacent or one must be contained in the other.
<p>By translating both $I$ and $J$ by a fixed number, we can assume without loss of generality that $I = [0,2^k]$ for some $k \in \Z$.
        (As the expression we want to lower bound is invariant under translations, this does not change the value of the integral.)</p>
<p>By a dilation of both $I$ and $J$ by a factor of $\frac{1}{\ell(I)}$, we can assume without loss of generality that $I = [0,1]$.
        (Since the expression we want to lower bound is invariant under dilations, this does not change the value of the integral.)
        Then $J$ is a dyadic interval such that $\ell(J) \geq \frac{1}{4}$.</p>
<p>Since either $J$ is adjacent to $[0,1]$, or $J$ is contained in $[0,1]$, or $[0,1]$ is contained in $J$, the only possibilities for $J$ are
        \[ \left[ -\frac{1}{4} ,0 \right], \left[ 0, \frac{1}{4} \right], \left[ \frac{1}{4} ,\frac{1}{2} \right], \left[ \frac{1}{2} ,\frac{3}{4} \right], \left[ \frac{3}{4} ,1 \right], \left[ 1, \frac{5}{4} \right], \]
        \[ \left[ -\frac{1}{2} ,\frac{1}{2} \right], \left[ 0 ,\frac{1}{2} \right], \left[ \frac{1}{2} ,1 \right], \left[ 1 ,\frac{3}{2} \right] \]
        \[ [-1,0], [0,1], [1,2] \]
        or 
        \[ \left[-2^k,0\right], \left[0,2^k\right] \qquad \text{ for some } k \geq 1. \]</p>
<p>Now see that 
        \[ \frac{1}{\ell(I)}\int_{\R} \eta_I(y) \eta_J(t) \,\dif t = \int_{\R} \eta\left( \frac{t - c_J}{\ell(J)} \right) \eta\left( t-\frac{1}{2}\right) \,\dif t. \]
        Since the function $\eta\left(\cdot - \frac{1}{2} \right)$ is strictly decreasing and never vanishes on $\left[ 1 , 1 + \frac{\varepsilon}{2} \right]$, it follows that for each of the above choices of $J$, there is a constant $B_{\eta} > 0$ such that
        \[ \int_{\R} \eta\left( \frac{t - c_J}{\ell(J)} \right) \eta\left( t-\frac{1}{2}\right) \,\dif t \geq B_{\eta}, \]
        and choosing the minimum of these constants over all the above choices of $J$ (this occurs for the <em>first</em> listed choice of $J$), we get a constant $B_{\eta} > 0$ which satisfies the desired bound.</p>
<p></li><li>Let $Q = I_1 \times \cdots \times I_n$ and $R = J_1 \times \cdots \times J_n$ be dyadic cubes in $\R^n$, where
            \[ \ell(I_1) = \ell(I_2) = \cdots = \ell(I_n) = \ell(Q), \qquad \ell(J_1) = \ell(J_2) = \cdots = \ell(J_n) = \ell(R). \]
        By the assumption that $\eta_Q \eta_R$ is not identically zero, we must have $R^* \cap Q^* \neq \varnothing$, and hence $R \cap Q$ is nonempty by the proof of Corollary <span class="ref-unknown" title="Reference not found: cor:whitney_cover_dilation">[cor:whitney_cover_dilation?]</span>.
        Therefore, for each $1 \leq i \leq n$, we have $J_i \cap I_i \neq \varnothing$.</p>
<p>Also $\ell(Q) \leq 4 \ell(R)$, implies that $\ell(I_i) \leq 4 \ell(J_i)$ for each $1 \leq i \leq n$.
        Then we see that 
        \begin{align*}
            \frac{1}{\vol(Q)} \int_{\R^n} \eta_Q(y) \eta_R(y) \,\dif y &= \prod_{i=1}^n \frac{1}{\ell(I_i)} \int_{\R} \eta_{I_i}(y_i) \eta_{J_i}(y_i) \,\dif y_i \\
                &\geq \prod_{i=1}^n B_{\eta} = B_{\eta}^n =: B_{n,\eta}
        \end{align*}
        by the one-dimensional case, which gives the desired bound.</li></ol>
    <span class="proof-end">‚ñ°</span>
  </div>
</div></p>
<h3>Whitney Partition of Unity</h3>
<div class="theorem-box proposition-box" id="prop:whitney_partition_of_unity">
  <div class="theorem-header"><strong>Proposition ?</strong> (Whitney Partition of Unity)</div>
  <div class="theorem-content">Let $A \subset \R^n$ be a non-empty proper closed subset, and let $\{Q_j\}_{j=1}^\infty$ be a Whitney decomposition of $A^c$.
    Fix $0 < \varepsilon < \frac{1}{4}$, and for each $j\in\Z^+$ let $Q_j^* = (1+\varepsilon) Q_j$ be the cube obtained by dilating $Q_j$ by a factor of $1+\varepsilon$ about its center.
    Then there exists a collection of bump functions $\{\psi_j\}_{j=1}^\infty \subset C_c^\infty(\R^n)$ such that
    <ol style="list-style-type: lower-roman;"><li>$0 \leq \psi_j \leq 1$ for each $j\in\Z^+$;
        </li><li>$\supp \psi_j \subseteq Q_j^*$ for each $j\in\Z^+$;
        </li><li>the collection $\{\psi_j\}_{j=1}^\infty$ forms a partition of unity for $A^c$, i.e.
            \[ \sum_{j=1}^\infty \psi_j = \Chi_{A^c} , \]
        </li><li>for each multi-index $\alpha$, there exists a constant $C_\alpha > 0$ such that for each $j\in\Z^+$ we have
            \[   |\partial^\alpha \psi_j(x)| \leq C_\alpha (\diam Q_j)^{-|\alpha|} \]
            for all $x\in  A^c$;
        </li><li>for each $j\geq 1$, we have
            \[ \frac{1}{2^n} \leq \frac{1}{\vol(Q_j)} \int_{\R^n} \psi_j(y) \,\dif y \leq \left( 1 + \varepsilon \right)^n, \]
        </li><li>for each multi-index $\alpha$, there exists a constant $B_\alpha > 0$ such that for all $j,l \in \Z^+$ we have
            \[  |\partial^\alpha (\psi_j\psi_l)(x)| \leq \frac{B_\alpha}{(\diam Q_l)^{|\alpha|+n}} \int_{\R^n} \psi_j(y)\psi_l(y)\,\dif y\]
            for all $x\in  A^c$.</li></ol>
    The collection $\{\psi_j\}_{j=1}^\infty$ is called a <em>Whitney partition of unity</em> of the open set $A^c$, which is <em>adapted</em> to the Whitney decomposition $\{Q_j\}_{j=1}^\infty$.</div>
</div>
<p>The most important properties of the Whitney partition of unity are (i), (ii), and (iii), which say that the functions $\{\psi_j\}_{j=1}^\infty$ form a smooth partition of unity for the open set $A^c$ subordinated to the Whitney decomposition $\{Q_j\}_{j=1}^\infty$.</p>
<div class="theorem-box remark-box collapsible-box collapsed" id="rmk:whitney_partition_of_unity_constants" data-collapsible-id="collapsible-rmk:whitney_partition_of_unity_constants">
  <div class="theorem-header clickable" onclick="toggleCollapsible('collapsible-rmk:whitney_partition_of_unity_constants')">
    <span class="collapsible-icon">‚ñº</span>
    <strong>Remark ?</strong>
  </div>
  <div class="theorem-content collapsible-content" id="collapsible-rmk:whitney_partition_of_unity_constants">The proof will begin with a non-negative even bump function $\eta\in C^\infty_c(\R)$, and all functions in the partition of unity will be built from this. 
    Technically all constants will depend on the choice of $\eta$, but we will suppress this dependence in the notation.</div>
</div>
<div class="proof-box collapsed" data-proof-id="proof-num-4">
  <div class="proof-header">
    <button class="proof-toggle" onclick="toggleProof('proof-num-4')" aria-expanded="false">
      <span class="proof-toggle-icon">‚ñº</span>
      <strong>Proof</strong>
    </button>
  </div>
  <div class="proof-content" id="proof-num-4">
    Let $\eta\in C^\infty_c(\R)$ be a non-negative even bump function such that $\eta(t) = 1$ for $|t| \leq \frac{1}{2}$ and $\eta(t) = 0$ for $|t| \geq \frac{1}{2} + \frac{\varepsilon}{2}$, 
    as in Definition <span class="ref-unknown" title="Reference not found: def:bump_function_adapted_to_interval_or_cube">[def:bump_function_adapted_to_interval_or_cube?]</span>.
<p>Let $\{Q_j\}_{j=1}^\infty$ be a Whitney decomposition of the open set $A^c$.
    For each $j\in\Z^+$, we define the function $\phi_j := \eta_{Q_j} \in C^\infty_c(\R^n)$, and notice that $\phi_j \leq \Chi_{Q_j^*}$, since $\eta_{Q_j}(x) = 1$ for all $x \in Q_j$ and $\eta_{Q_j}(x) = 0$ for all $x \notin (1+\varepsilon) Q_j$.    
    Also see that if $x \in A^c$, then there is at least one $j\in\Z^+$ such that $x \in Q_j$, and so $\sum_{j=1}^\infty \phi_j(x) \geq 1$.
    As a result, we have
    \[ \Chi_{A^c} \leq \sum_{j=1}^\infty \phi_j \leq \sum_{j=1}^\infty \Chi_{Q_j^*} \leq 2^n \Chi_{A^c} \tag{$\bigpumpkin$}\]
    by Corollary <span class="ref-unknown" title="Reference not found: cor:whitney_cover_dilation">[cor:whitney_cover_dilation?]</span>.</p>
<p>To obtain a partition of unity, we define the functions
    \[ \psi_j:\R^n \to \R, \qquad \psi_j(x) := \begin{cases}
        \frac{\phi_j(x)}{\sum_{k=1}^\infty \phi_k(x)} & \text{if } x \in A^c \\
        0 & \text{if } x \in A
    \end{cases} \]
    for $j\in\Z^+$.</p>
<p>Notice that if $x \in A^c$, then $\sum_{k=1}^\infty \phi_k(x) \geq 1$, but at most $12^n - 4^n$ of the terms in the sum are nonzero by Proposition <span class="ref-unknown" title="Reference not found: thm:whitney_decomposition">[thm:whitney_decomposition?]</span> (d), so this sum is also finite.
    Thus $\psi_j(x)$ is well-defined for each $j\in\Z^+$ and $x \in A^c$.</p>
<p>See that for each $j\in\Z^+$, we have $\psi_j \geq 0$ and $\psi_j \leq 1$, so that (i) holds. 
    Also see that $\supp \psi_j \subseteq Q_j^*$, since $\phi_j$ has support in $Q_j^*$, so (ii) holds.
    Furthermore, since $\sum_{k=1}^\infty \phi_k(x) \geq 1$ for each $x \in A^c$, we have
    \[ \sum_{j=1}^\infty \psi_j(x) = \sum_{j=1}^\infty \frac{\phi_j(x)}{\sum_{k=1}^\infty \phi_k(x)} = 1 \]
    for each $x \in A^c$, and this sum consists of at most $12^n$ nonzero terms. Since $\sum_{j=1}^\infty \psi_j = 0$ on $A$, we have 
    \[\sum_{j=1}^\infty \psi_j = \Chi_{A^c},\] 
    so (iii) holds.</p>
<p><div style="margin: 1em 0;"></div></p>
<p>(iv). Fix a multi-index $\alpha = (\alpha_1, \ldots, \alpha_n) \in \N^n$, and let $j \in \Z^+$ be arbitrary.
    Let $\ell(Q_j)$ be the length of the cube $Q_j$, so that $\sqrt{n} \ell(Q_j) = \diam Q_j$.
    Then the Leibniz rule gives
    \[ D^\alpha \psi_j = D^\alpha \left( \frac{\varphi_j}{\sum_{k=1}^\infty \varphi_k} \right) = \sum_{\beta\leq \alpha} \binom{\alpha}{\beta} D^\beta\left( \frac{1}{\sum_{k=1}^\infty \varphi_k} \right) D^{\alpha-\beta} \varphi_j \]
    on $\R^n$.
    Then using the Derivative Bounds from Lemma <span class="ref-unknown" title="Reference not found: lem:derivative_bounds_1">[lem:derivative_bounds_1?]</span>, we have
    \[ \left| D^\alpha \varphi_j(x) \right| \leq \sum_{\beta \leq \alpha} \binom{\alpha}{\beta} C_{n,\alpha - \beta}\left| D^\beta\left( \frac{1}{S} \right)(x) \right| \cdot \ell(Q_j)^{-|\alpha|+|\beta|} \tag{$\heartsuit$} \]
    for all $x \in \R^n$.</p>
<p>For brevity, we let $S := \sum_{k=1}^\infty \varphi_k$.
    We claim that for each $\beta \leq \alpha$ there is a constant $C^{\bullet}_{n,\beta} > 0$ such that if $l\in\Z^+$ and $x \in Q_l^*$, then
        \[ \left| D^\beta \left( \frac{1}{S} \right)(x) \right| \leq C^{\bullet}_{n,\beta} \ell(Q_l)^{-|\beta|}. \tag{$\diamondsuit$}\]</p>
<div class="subproof collapsed" data-subproof-id="subproof-1763576799705-0">
      <div class="subproof-header">
        <button class="subproof-toggle" onclick="toggleSubproof('subproof-1763576799705-0')" aria-expanded="false">
          <span class="subproof-toggle-icon">‚ñº</span>
          <strong>Proof of Claim</strong>
        </button>
      </div>
      <div class="subproof-content" id="subproof-1763576799705-0">
        <em>Base case:</em> If $\beta = 0$, then the left-hand side of $(\diamondsuit)$ is just $\frac{1}{S(x)}$, and the right-hand side is $C^{\bullet}_{n,0}$, so the claim holds because $S(x) \geq 1$ for each $x \in A^c$.
<p><div style="margin: 1em 0;"></div>
            <em>Base case:</em>
            If $\beta$ has $|\beta| = 1$, then $\beta = e_i$ for some $i\in\{1,\ldots,n\}$, and the left-hand side of $(\diamondsuit)$ is
            \[ \left| D^\beta \left( \frac{1}{S} \right)(x) \right| = \left| -\frac{\partial_i S(x)}{(S(x))^2} \right| \leq \frac{|\partial_i S(x)|}{S(x)^2} \leq |\partial_i S(x)| \]
            since $S(x) \geq 1$ for each $x \in A^c$.
            Now if $l \in \Z^+$ and $x \in Q_l^*$, then there are at most $12^n$ nonzero terms in the sum $S(x) = \sum_{k=1}^\infty \varphi_k(x)$, and each of these nonzero terms corresponds to a cube $Q_k$ which is adjacent to $Q_l$;
            for each such cube $Q_k$, we have $\frac{1}{4} \leq \frac{\diam Q_k}{\diam Q_l} \leq 4$ by <span class="ref-unknown" title="Reference not found: thm:whitney_decomposition">[thm:whitney_decomposition?]</span>, so that $\ell(Q_k) \leq 4 \ell(Q_l)$, and hence $\ell(Q_k)^{-1} \leq 4 \ell(Q_l)^{-1}$.
            Therefore
            \[ \left| D^\beta\left( \frac{1}{S} \right)(x)\right| \leq |\partial_i S(x) |\leq 12^n \max_{k\geq 1, x\in Q_k^*} |\partial_i \varphi_k(x)| \leq 12^n C_{n,e_i} \ \max_{k\geq 1, x\in Q_k^*} \ell(Q_k)^{-1} \leq 12^n C_{n,e_i} 4 \ell(Q_l)^{-1} \]
            for all $x \in Q_l^*$.</p>
<p>Since $\beta$ was an arbitrary multi-index with $|\beta| = 1$, this proves the base case.</p>
<p><div style="margin: 1em 0;"></div>
            <em>Inductive step:</em> Suppose that there is an integer $N$ such that for each multi-index with order $< N$, the claim holds.
            <div style="margin: 1em 0;"></div></p>
<p>Let $\beta \in \N^n$ be a multi-index with $|\beta| = N$, and apply the Higher Order Quotient Rule to obtain
            \[ D^\beta \left( \frac{1}{S} \right) = -\frac{1}{S} \sum_{0 <\gamma\leq\beta} \binom{\beta}{\gamma} D^\gamma S \cdot D^{\beta-\gamma} \left( \frac{1}{S} \right). \]
            Then we estimate the right-hand side using the triangle inequality and the induction hypothesis --- if $l\in\Z^+$ and $x \in Q_l^*$, then
            \begin{align*}
                \left| D^\beta \left( \frac{1}{S} \right)(x) \right| &\leq \left|\frac{1}{S(x)}\right| \sum_{0 < \gamma \leq \beta} \binom{\beta}{\gamma} |D^\gamma S(x)| \cdot \left| D^{\beta-\gamma} \left( \frac{1}{S} \right)(x) \right| \\
                    &\leq \sum_{0<\gamma\leq \beta} \binom{\beta}{\gamma} |D^\gamma S(x)| C^{\bullet}_{n,\beta-\gamma} \ell(Q_l)^{-|\beta| + |\gamma|} &&\text{by the induction hypothesis}\\
            \end{align*}
            and for each $0 < \gamma \leq \beta$, we have
            \[ \left| D^\gamma S(x) \right| \leq 12^n \max_{k\geq 1, x\in Q_k^*} |D^\gamma \varphi_k(x)| \leq 12^n C_{n,\gamma} \max_{k\geq 1, x\in Q_k^*} \ell(Q_k)^{-|\gamma|} \leq 12^n C_{n,\gamma} \left(4^{|\gamma|} \ell(Q_l)^{-|\gamma|} \right), \]
            similarly to the base case.</p>
<p>Putting these estimates together, we have
            \begin{align*}
                \left| D^\beta \left( \frac{1}{S} \right)(x) \right| &\leq \sum_{0<\gamma\leq \beta} \binom{\beta}{\gamma} \left[ 12^n C_{n,\gamma} \left( 4^{|\gamma|} \ell(Q_l)^{-|\gamma|} \right) \right] C^{\bullet}_{n,\beta-\gamma} \ell(Q_l)^{-|\beta| + |\gamma|} \\
                    &= 12^n \sum_{0<\gamma\leq \beta} \binom{\beta}{\gamma} C_{n,\gamma} C^{\bullet}_{n,\beta-\gamma} 4^{|\gamma|} \ell(Q_l)^{-|\beta|} \\
                    &= C^{\bullet}_{n,\beta} \ell(Q_l)^{-|\beta|}
            \end{align*}
            where we have defined the constant
            \[ C^{\bullet}_{n,\beta} := 12^n \sum_{0<\gamma\leq \beta} \binom{\beta}{\gamma} C_{n,\gamma} C^{\bullet}_{n,\beta-\gamma} 4^{|\gamma|}. \]
            This completes the inductive step, and hence the claim holds for all multi-indices $\beta \leq \alpha$.
        <span class="proof-end">‚ñ°</span>
      </div>
    </div></p>
<p>Now let $x\in A^c$ be arbitrary, and let $l\in\Z^+$ be such that $x \in Q_l^*$.
    Then there are at most $12^n$ nonzero terms in the sum $S(x) = \sum_{k=1}^\infty \varphi_k(x)$, and each of these nonzero terms corresponds to a cube $Q_k$ which is adjacent to $Q_l$.</p>
<p>To finish the proof of (iv), we split into two cases, depending on if $Q_j$ and $Q_l$ are equal or adjacent, or otherwise if $Q_j$ and $Q_l$ are not adjacent.</p>
<p>If the cubes $Q_j$ and $Q_l$ are not adjacent, then $x \in Q_l^*$ but $x \notin Q_j^*$, so $\varphi_j = 0$ on an open set containing $x$, and hence $\psi_j(x) = 0$; in this case the desired estimate holds trivially as the left-hand side is zero.</p>
<p>If the cubes $Q_j$ and $Q_l$ are adjacent, then by part (c) of <span class="ref-unknown" title="Reference not found: thm:whitney_decomposition">[thm:whitney_decomposition?]</span> we have $\frac{1}{4} \leq \frac{\diam Q_j}{\diam Q_l} \leq 4$, so that
    \[ \ell(Q_j) \leq 4 \ell(Q_l) \]
    and hence \[ \ell(Q_l)^{-|\beta|} \leq 4^{|\beta|} \ell(Q_j)^{-|\beta|} \]
    for each $\beta\leq \alpha$, which implies that
    \[ \left|D^\beta \left(\frac{1}{S}\right)(x) \right| \leq C^{\bullet}_{n,\beta} \ell(Q_l)^{-|\beta|} \leq 4^{|\beta|} C^{\bullet}_{n,\beta} \ell(Q_j)^{-|\beta|} \tag{$\diamondsuit_2$} \]
    by using $(\diamondsuit)$.</p>
<p>Putting $(\heartsuit)$ and $(\diamondsuit_2)$ together and using the triangle inequality, we have
    \[ |D^\alpha \psi_j(x)| \leq \sum_{\beta \leq \alpha} \binom{\alpha}{\beta} C_{n,\alpha - \beta} \left(4^{|\beta|} C^{\bullet}_{n,\beta} \ell(Q_l)^{-|\beta|} \right) \ell(Q_j)^{-|\alpha| + |\beta|} \leq C^{\diamond}_{n,\alpha} \ell(Q_j)^{-|\alpha|} \]
    where we have defined the constant
    \[ C^{\diamond}_{n,\alpha} := \sum_{\beta \leq \alpha} \binom{\alpha}{\beta} 4^{|\beta|} C_{n,\alpha - \beta} C^{\bullet}_{n,\beta} \]
    which depends only on $n$ and $\alpha$.</p>
<p>Since 
    \[ \diam Q_j = \sqrt{n} \ell(Q_j) \]
    we have
    \[ |D^\alpha \psi_j(x)| \leq C^{\diamond}_{n,\alpha} \ell(Q_j)^{-|\alpha|} = C^{\diamond}_{n,\alpha} n^{\frac{|\alpha|}{2}} (\diam Q_j)^{-|\alpha|} \]
    for all $x \in A^c$, which completes the proof of (iv) with the constant $C_\alpha := C^{\diamond}_{n,\alpha} n^{\frac{|\alpha|}{2}}$.</p>
<p><div style="margin: 1em 0;"></div></p>
<p>(v). For each $j\in\Z^+$, we have
    \begin{align*}
        1 \leq \frac{1}{\vol(Q_j)} \int_{\R^n} \eta_{Q_j}(y) \,\dif y &= \prod_{i=1}^n \frac{1}{\ell(I_i)} \int_{\R} \eta_{I_i}(y_i) \,\dif y_i \\
            &= \prod_{i=1}^n \frac{1}{\ell(I_i)} \int_{\R} \eta\left( \frac{y_i - c_{I_i}}{\ell(I_i)} \right) \,\dif y_i \\
            &\leq (1+\varepsilon)^n &&(\mathwitch)
        \end{align*}
    where the first equality holds by Fubini's theorem <span class="ref-unknown" title="Reference not found: cor:fubini_tonelli_theorem">[cor:fubini_tonelli_theorem?]</span>, and the last inequality holds for the following reason ---
    since $\eta$ is supported in the interval $[-\frac{1}{2} - \frac{\varepsilon}{2}, \frac{1}{2} + \frac{\varepsilon}{2}]$, it follows that for each $i\in\{1,\ldots,n\}$ we have
    \[ \int_{\R} \eta\left( \frac{y_i - c_{I_i}}{\ell(I_i)} \right) \,\dif y_i = \ell(I_i) \int_{-\frac{1}{2} - \frac{\varepsilon}{2}}^{\frac{1}{2} + \frac{\varepsilon}{2}} \eta(t) \,\dif t \leq \ell(I_i) \left(1 + \varepsilon \right) \]
    since $\eta(t) = 1$ for $|t| \leq \frac{1}{2}$.</p>
<p>Thus for each $j\in\Z^+$ we have
    \begin{align*}
        \frac{1}{\vol(Q_j)} \int_{\R^n} \psi_j(y) \,\dif y &= \frac{1}{\vol(Q_j)} \int_{A^c} \frac{\phi_j(y)}{\sum_{k=1}^\infty \phi_k(y)} \,\dif y &&\text{ by definition of } \psi_j\\
            &\leq \frac{1}{\vol(Q_j)} \int_{A^c} \phi_j(y) \,\dif y \\
            &= \frac{1}{\vol(Q_j)} \int_{A^c} \eta_{Q_j}(y) \,\dif y \\
            &= \frac{1}{\vol(Q_j)} \int_{\R^n} \eta_{Q_j}(y) \,\dif y &&\text{ since } \supp\left( \eta_{Q_j} \right) \subseteq Q_j^* \subset A^c \\
            &\leq (1+\varepsilon)^n &&\text{ by the upper bound in } (\mathwitch).
    \end{align*}</p>
<p>This establishes the upper bound in (v).
    To establish the lower bound in (v), we recall $(\bigpumpkin)$, which says that
    \[  \Chi_{A^c} \leq \sum_{j=1}^\infty \phi_j \leq 2^n \Chi_{A^c}. \]
    Thus for each $j\in\Z^+$ we have
    \begin{align*}
        \frac{1}{\vol(Q_j)} \int_{\R^n} \psi_j(y) \,\dif y &= \frac{1}{\vol(Q_j)} \int_{A^c} \frac{\phi_j(y)}{\sum_{k=1}^\infty \phi_k(y)} \,\dif y \\
            &\geq \frac{1}{2^n} \frac{1}{\vol(Q_j)} \int_{A^c} \phi_j(y) \,\dif y \\
            &= \frac{1}{2^n} \frac{1}{\vol(Q_j)} \int_{\R^n} \eta_{Q_j}(y) \,\dif y \\
            &\geq \frac{1}{2^n} \cdot 1
    \end{align*}
    by the lower bound in $(\mathwitch)$, which completes the proof of (v).</p>
<p><div style="margin: 1em 0;"></div></p>
<p>(vi). Fix a multi-index $\alpha \in \N^n$ and let $j,l\in\Z^+$ be arbitrary.
    If $\psi_j \psi_l \equiv 0$, then the desired estimate holds trivially, so we may assume that $\psi_j \psi_l$ is not identically zero.
    Then the cubes $Q_j$ and $Q_l$ are either equal or adjacent, so therefore
    \[ \frac{1}{4} \leq \frac{\diam Q_j}{\diam Q_l} \leq 4. \]
    Thus we have $\ell(Q_j) \geq \frac{1}{4} \ell(Q_l)$ which implies 
    \[ \ell(Q_j)^{-|\beta|} \leq 4^{|\beta|} \ell(Q_l)^{-|\beta|} \qquad \qquad\forall \,\beta\leq \alpha \]
    so we estimate
    \begin{align*}
        |\partial^\alpha (\psi_j\psi_l)(x)| &\leq \sum_{\beta \leq \alpha} \binom{\alpha}{\beta} |\partial^\beta \psi_j(x)| |\partial^{\alpha - \beta} \psi_l(x)| && \text{by the Leibniz rule and triangle inequality} \\
            &\leq \sum_{\beta\leq \alpha} \binom{\alpha}{\beta} C_{\alpha - \beta} \ell(Q_j)^{-|\beta|} C_\beta \ell(Q_l)^{-|\alpha| + |\beta|} && \text{by part (iv)} \\
            &\leq \sum_{\beta\leq \alpha} \binom{\alpha}{\beta} C_{\alpha - \beta} C_\beta 4^{|\beta|} \ell(Q_l)^{-|\alpha|} && \text{since } \ell(Q_j)^{-|\beta|} \leq 4^{|\beta|} \ell(Q_l)^{-|\beta|} \\
            &= C^{\ddag}_{n,\alpha} (\diam Q_l)^{-|\alpha|} 
    \end{align*}
    where we have defined the constant
    \[ C^{\ddag}_{n,\alpha} := n^{|\alpha|/2}\sum_{\beta\leq \alpha} \binom{\alpha}{\beta} C_{\alpha - \beta} C_\beta 4^{|\beta|} \]
    which depends only on $n$ and $\alpha$.</p>
<p>That is, we have shown that for each $j,l\in\Z^+$ and $x \in A^c$ we have
    \[ |\partial^\alpha (\psi_j\psi_l)(x)| \leq C^{\ddag}_{n,\alpha} ( \diam Q_l)^{-|\alpha|}. \tag{$\clubsuit$} \]
    (Keep this fact in mind for a moment, as we will use it to finish the proof of (vi).)</p>
<p>Also, we see that $\psi_j \geq 2^{-n} \eta_{Q_j}$ and $\psi_l \geq 2^{-n} \eta_{Q_l}$ by $(\bigpumpkin)$, so that
    \begin{align*}
        \int_{\R^n} \psi_j(y) \psi_l(y) \,\dif y &\geq 2^{-2n} \int_{\R^n} \eta_{Q_j}(y) \eta_{Q_l}(y) \,\dif y \\
            &\geq 2^{-2n} B_{n,\eta} \vol(Q_l) &&\text{ by Lemma [lem:integral_of_product_of_bump_functions?]} \\
            &= B^{\star}_{n} (\diam Q_l)^n
    \end{align*}
    where we have defined the constant 
    \[ B^{\star}_{n} := 2^{-2n} B_{n,\eta} \,n^{-n/2} \]
    which depends only on $n$ and $\eta$.
    That is, we have shown that for each $j,l\in\Z^+$ we have
    \[ \int_{\R^n} \psi_j(y) \psi_l(y) \,\dif y \geq B^{\star}_{n} (\diam Q_l)^n. \tag{$\spadesuit$} \]</p>
<p>Putting $(\clubsuit)$ and $(\spadesuit)$ together, we have
    \begin{align*}
        |\partial^\alpha (\psi_j\psi_l)(x)| &\leq C^{\ddag}_{n,\alpha} ( \diam Q_l)^{-|\alpha|} &&\text{by} (\clubsuit) \\
            &= \frac{C^{\ddag}_{n,\alpha} }{(\diam Q_l)^{|\alpha|}} \cdot \frac{1}{B_n^{\star} (\diam Q_l)^n} \cdot B_n^{\star} (\diam Q_l)^n \\
            &= \frac{C^{\ddag}_{n,\alpha}}{B^{\star}_n} \cdot \frac{1}{(\diam Q_l)^{|\alpha|+n}} \cdot B_n^{\star} (\diam Q_l)^n \\
            &\leq \frac{C^{\ddag}_{n,\alpha}}{B^{\star}_n} \cdot \frac{1}{(\diam Q_l)^{|\alpha|+n}} \cdot \int_{\R^n} \psi_j(y) \psi_l(y) \,\dif y &&\text{by} (\spadesuit)
    \end{align*}
    which completes the proof of (vi) with the constant $B_\alpha := \frac{C^{\ddag}_{n,\alpha}}{B^{\star}_n}$.
    <span class="proof-end">‚ñ°</span>
  </div>
</div></p>
    </main>
  </div>
  
  <script>
    function toggleChapter(element) {
      element.parentElement.classList.toggle('expanded');
    }
    
    // Highlight current page in sidebar
    document.addEventListener('DOMContentLoaded', () => {
      const currentPath = window.location.pathname;
      const links = document.querySelectorAll('.section-link');
      links.forEach(link => {
        if (currentPath.endsWith(link.getAttribute('href').split('/').pop())) {
          link.classList.add('active');
          // Expand parent chapter
          const group = link.closest('.chapter-group');
          if (group) group.classList.add('expanded');
        }
      });
    });
    
    window.addEventListener('DOMContentLoaded', () => {
      console.log('Restoring proof collapse states...');
      try {
        const openProofs = JSON.parse(localStorage.getItem('openProofs') || '{}');
        const currentPage = window.location.pathname;
        const pageOpen = openProofs[currentPage] || [];
        
        console.log('Current page:', currentPage);
        console.log('Open proof IDs stored:', pageOpen);
        console.log('Found ' + pageOpen.length + ' open proofs for this page');
        
        document.querySelectorAll('.proof-box').forEach(box => {
          const proofId = box.getAttribute('data-proof-id');
          console.log('Checking proof:', proofId, 'Should be open:', pageOpen.includes(proofId));
          if (pageOpen.includes(proofId)) {
            box.classList.remove('collapsed');
            const button = box.querySelector('.proof-toggle');
            button.setAttribute('aria-expanded', 'true');
          } else {
            box.classList.add('collapsed');
            const button = box.querySelector('.proof-toggle');
            button.setAttribute('aria-expanded', 'false');
          }
        });
        
        const openBoxes = JSON.parse(localStorage.getItem('openBoxes') || '{}');
        const pageBoxes = openBoxes[currentPage] || [];
        
        console.log('Open box IDs stored:', pageBoxes);
        
        document.querySelectorAll('.collapsible-box').forEach(box => {
          const boxId = box.getAttribute('data-collapsible-id');
          console.log('Checking box:', boxId, 'Should be open:', pageBoxes.includes(boxId));
          if (pageBoxes.includes(boxId)) {
            box.classList.remove('collapsed');
          } else {
            box.classList.add('collapsed');
          }
        });
        
        console.log('Proof states restored');
      } catch (e) {
        console.error('Error restoring collapse state:', e);
      }
    });
    
    function toggleProof(proofId) {
      const proofContent = document.getElementById(proofId);
      const proofBox = proofContent.closest('.proof-box');
      proofBox.classList.toggle('collapsed');
      
      const button = proofBox.querySelector('.proof-toggle');
      button.setAttribute('aria-expanded', !proofBox.classList.contains('collapsed'));
      
      saveProofState();
    }
    
    function toggleSubproof(subproofId) {
      const subproofContent = document.getElementById(subproofId);
      const subproof = subproofContent.closest('.subproof');
      subproof.classList.toggle('collapsed');
      
      const button = subproof.querySelector('.subproof-toggle');
      button.setAttribute('aria-expanded', !subproof.classList.contains('collapsed'));
    }
    
    function saveProofState() {
      try {
        const currentPage = window.location.pathname;
        const openProofs = JSON.parse(localStorage.getItem('openProofs') || '{}');
        if (!openProofs[currentPage]) {
          openProofs[currentPage] = [];
        }
        
        openProofs[currentPage] = [];
        document.querySelectorAll('.proof-box:not(.collapsed)').forEach(box => {
          const proofId = box.getAttribute('data-proof-id');
          if (proofId) {
            openProofs[currentPage].push(proofId);
          }
        });
        
        localStorage.setItem('openProofs', JSON.stringify(openProofs));
        console.log('Saved proof state (open proofs):', openProofs[currentPage]);
      } catch (e) {
        console.error('Error saving collapse state:', e);
      }
    }
    
    function toggleCollapsible(collapsibleId) {
      const content = document.getElementById(collapsibleId);
      const box = content.closest('.collapsible-box');
      box.classList.toggle('collapsed');
      
      saveCollapsibleState();
    }
    
    function saveCollapsibleState() {
      try {
        const currentPage = window.location.pathname;
        const openBoxes = JSON.parse(localStorage.getItem('openBoxes') || '{}');
        if (!openBoxes[currentPage]) {
          openBoxes[currentPage] = [];
        }
        
        openBoxes[currentPage] = [];
        document.querySelectorAll('.collapsible-box:not(.collapsed)').forEach(box => {
          const boxId = box.getAttribute('data-collapsible-id');
          if (boxId) {
            openBoxes[currentPage].push(boxId);
          }
        });
        
        localStorage.setItem('openBoxes', JSON.stringify(openBoxes));
      } catch (e) {
        console.error('Error saving box state:', e);
      }
    }
    
    document.addEventListener('keydown', (e) => {
      if (e.key === 'p' && e.ctrlKey) {
        e.preventDefault();
        const proofBoxes = document.querySelectorAll('.proof-box');
        const anyExpanded = Array.from(proofBoxes).some(box => !box.classList.contains('collapsed'));
        
        proofBoxes.forEach(box => {
          if (anyExpanded) {
            box.classList.add('collapsed');
          } else {
            box.classList.remove('collapsed');
          }
        });
        
        saveProofState();
      }
    });
    
    document.querySelectorAll('a.ref-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href').substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'center' });
          target.style.background = '#fef3c7';
          target.style.transition = 'background 0.3s ease';
          setTimeout(() => { target.style.background = ''; }, 1500);
        }
      });
    });
  </script>
</body>
</html>